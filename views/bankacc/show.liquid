{% layout 'layout.liquid' %} {% block content %}

<div class="container">
  <h2 class="page-header">Transactions made in {{transactions[0].transDate | date: "%a %d %b %y"}}</h2>
  <a href="/bankacc">Back to Bank Account</button></a>
  
  
  <!-- <ol id="bankAccShow">
      <li>Transaction Date: {{transaction[0].transDate | date: "%b %d %y"}}</li>
      <li>Transaction Amount: {{transaction.transAmount}}</li>
      <li>Transaction Description: {{transaction.transName}}</li>
    </ol> -->
    
    <div class="row" id="showDate">
        <div class="col-4">
          <div class="list-group" id="list-tab" role="tablist">
            <a class="list-group-item list-group-item-action active" id="list-home-list" data-bs-toggle="list" href="#list-home" role="tab" aria-controls="list-home">Home</a>

            {% for transaction in transactions %}
            <a class="list-group-item list-group-item-action" id="list-{{transaction._id}}-list" data-bs-toggle="list" href="#list-{{transaction._id}}" role="tab" aria-controls="list-{{transaction._id}}">{{transaction.transName}}</a>
            {% endfor %}
            
          </div>
        </div>
        <div class="col-8">
          <div class="tab-content" id="nav-tabContent">
            <div class="tab-pane fade show active" id="list-home" role="tabpanel" aria-labelledby="list-home-list">
                This page list transactions made within the same chosen date.
                <h2 class="transDate">{{transactions[0].transDate | date: "%a %d %b %y"}}</h2>
            </div>

            {% for transaction in transactions %}
            <div class="tab-pane fade" id="list-{{transaction._id}}" role="tabpanel" aria-labelledby="list-{{transaction._id}}-list">
                <ol id="bankAccShow">
                    <li>Transaction Date: {{transaction.transDate | date: "%d %b %y"}}</li>
                    <li>Transaction Amount: {{transaction.transAmount}}</li>
                    <li>Transaction Description: {{transaction.transName}}</li>
                  </ol>

                  <a href="/bankacc/{{ transaction._id }}/edit"><button class="btn btn-sm btn-info">Edit</button></a>

                  <button
    type="button"
    class="btn btn-danger btn-sm"
    data-bs-toggle="modal"
    data-bs-target="#exampleModal"
    >Delete</button>
                  

                </div>
            </div>
            {% endfor %}
        </div>
      </div>

    <!-- <a href="/bankacc/{{ transaction._id }}/edit"><button class="btn btn-sm btn-info">Edit</button></a> -->

    <!-- Button trigger modal -->
    <!-- <button
    type="button"
    class="btn btn-danger btn-sm"
    data-bs-toggle="modal"
    data-bs-target="#exampleModal"
    >Delete</button> -->

    {% for transaction in transactions %}
<!-- Modal -->
<div
class="modal fade"
id="exampleModal"
tabindex="-1"
aria-labelledby="exampleModalLabel"
aria-hidden="true"
>
<div class="modal-dialog">
    <div class="modal-content">
        <div class="modal-header">
            <h5 class="modal-title" id="exampleModalLabel">{{transaction.transName}} ${{transaction.transAmount}} on {{transaction.transDate | date: "%b %d %y"}}</h5>
            <button
            type="button"
            class="btn-close"
            data-bs-dismiss="modal"
            aria-label="Close"
            ></button>
        </div>
        <div class="modal-body">Confirm delete this transaction?</div>
        <div class="modal-footer">
            <button
            type="button"
            class="btn btn-secondary"
            data-bs-dismiss="modal"
            >
            Close
        </button>
        <form
        action="/bankacc/{{ transaction._id }}?_method=DELETE"
        method="POST"
        >
        <input type="submit" class="btn btn-danger" value="delete" />
    </form>
    
</div>
{% endfor %}

{% endblock %}